<p-confirmDialog/>

<div class="flex flex-column gap-3">

    <p-card *ngIf="classes; else loading" header="Gestión de Clases">

        <div class="mb-3 flex justify-content-between align-items-center">
            <p-button label="Nuevo"
                      icon="pi pi-plus"
                      severity="success"
                      [outlined]="true"
                      [routerLink]="['/admin/spells/add']"
            />
        </div>

        <p-table
                [value]="classes"
                [paginator]="false"
                [rows]="15"
                [responsiveLayout]="'scroll'"
                styleClass="p-datatable-gridlines p-datatable-striped">

            <!-- Definimos las columnas -->
            <ng-template pTemplate="header">
                <tr>
                    <th pResizableColumn>Nombre</th>
                    <th pResizableColumn style="text-align: right;">Acciones</th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-clazz>
                <tr>
                    <td>{{ clazz.name }}</td>
                    <td style="text-align: right;">
                        <button pButton
                                type="button"
                                icon="pi pi-pencil"
                                class="p-button p-button-text p-button-help"
                                (click)="onEditClass(clazz.id)">
                        </button>
                        <button pButton
                                type="button"
                                icon="pi pi-sparkles"
                                class="p-button p-button-text p-button-info">
                        </button>
                        <button pButton
                                type="button"
                                icon="pi pi-book"
                                class="p-button p-button-text p-button-warning">
                        </button>
                        <button pButton
                                type="button"
                                icon="pi pi-trash"
                                class="p-button p-button-text p-button-danger"
                                (click)="onDeleteClass(clazz.id, clazz.name)">
                        </button>
                    </td>
                </tr>
            </ng-template>
        </p-table>

    </p-card>

    <ng-template #loading>
        <p-card header="Gestión de Clases">
            <div class="mb-3 flex justify-content-between align-items-center">
                <p-button label="Nuevo"
                          icon="pi pi-plus"
                          severity="success"
                          [outlined]="true"
                          [disabled]="true"
                />
            </div>
            <p-table [value]="[1,2,3,5,5]" [tableStyle]="{ 'min-width': '50rem' }">
                <ng-template pTemplate="header">
                    <tr>
                        <th pResizableColumn>Nombre</th>
                        <th pResizableColumn>Acciones</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body">
                    <tr>
                        <td>
                            <p-skeleton/>
                        </td>
                        <td>
                            <p-skeleton/>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </p-card>
    </ng-template>
</div>